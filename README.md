## Постановка задачи:

Есть модель

- Сотрудник (ФИО, дата рождения)
- Организация (Наименование, Дата создания, Статус). Отношение многие-ко-многим.
- Статус - Открыта, Закрыта

Задача:

1 - Необходимо выполнить сериализацию в xml массива организаций с перечислением её участников.

2 - Необходимо выполнить десериализацию файла, вывести в консоль только открытые организации.

3 - Необходимо сгенерировать xsd файлы для модели.

## Инструкция по запуску

1) Склонировать репозиторий
2) Открыть директорию с проектом в терминале
3) Запустить проект с помощью команды `./gradlew run`

## Описание решения

Для работы с XML используется библиотека JAXB. Ее использование в контексте поставленной задачи
показалось мне наиболее удобным, так как библиотека позволяет работать с XML как с обычными Java объектами,
а также позволяет генерировать XSD схемы по модели. Помимо этого, она включена в стандартную библиотеку Java 8.

### Модель

Для работы с данными были описаны классы модели `Employee`, `Company`, `CompanyStatus`, находящиеся в пакете `model`.

Пример XML файла:

```
<root>
    <company>
        <name>Company 1</name>
        <creationDate>2022-01-01</creationDate>
        <status>OPEN</status>
        <employee-ref>1</employee-ref>
    </company>
    <employee id="1">
        <firstName>Иван</firstName>
        <middleName>Иванович</middleName>
        <lastName>Иванов</lastName>
        <birthDate>2002-02-02</birthDate>
    </employee>
</root>
```

Отношение многие-ко-многим между сотрудниками и организациями реализовано с помощью ссылок на сотрудников внутри
тегов `<company>`. Использование промежуточной таблицы, или дублирование ссылок на компании со стороны сотрудников,
показалось мне избыточным, так как в рамках поставленной задачи это бы не принесло никакой пользы.

### Доступ к данным

Для доступа к данным была написана абстракция `DataAccessor`, которая в текущей реализации
предоставляет методы для чтения и сохранения данных.

В качестве реализации был написан класс `XmlDataAccessor`, который использует библиотеку JAXB для
работы с XML файлами.

### Конфигурация

Конфигурация приложения находится в файле `config.properties` в папке с ресурсами проекта. Поддерживаемые параметры:

| Ключ                         | Стандартное значение               | Описание                                                                                  |
|------------------------------|------------------------------------|-------------------------------------------------------------------------------------------|
| data.encoding                | UTF-8                              | Кодировка, которая будет использоваться JAXB для чтения XML                               | 
| data.format-output           | true                               | Определяет, нужно ли форматировать вывод при сохранении XML                               |
| data.allow-file-overwrites   | true                               | Определяет, разрешено ли перезаписывать файл, если он уже существует на момент сохранения |
| input.path                   | src/main/resources/input/input.xml | Путь к файлу с данными                                                                    |
| output.open-companies-path   | open-companies.xml                 | Путь к результирующему файлу с открытыми компаниями                                       |
| output.custom-companies-path | custom-companies.xml               | Путь к результирующему файлу с кастомными компаниями                                      |

### Тестирование

Тестами покрыты основные сценарии работы приложения. Для тестирования используется библиотека JUnit 5.

Процент покрытия тестами (строки кода, за исключением Main класса): 93.5%